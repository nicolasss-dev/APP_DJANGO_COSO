{% extends 'base.html' %}
{% load static %}

{% block title %}Procesando Pago - {{ pasarela_nombre }}{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/simulaciones.css' %}">
{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="gateway-simulation fade-in">
        <div class="gateway-logo">
            <h2 class="text-primary">{{ pasarela_nombre }}</h2>
            <p class="text-muted">Pasarela de Pagos Simulada</p>
        </div>

        <div class="payment-summary">
            <h5 class="mb-3">Resumen del Pago</h5>
            <div class="payment-summary-item">
                <span>Evento:</span>
                <strong>{{ pago.inscripcion.evento.nombre }}</strong>
            </div>
            <div class="payment-summary-item">
                <span>Participante:</span>
                <strong>{{ pago.inscripcion.get_nombre_completo }}</strong>
            </div>
            <div class="payment-summary-item">
                <span>Referencia:</span>
                <strong>{{ pago.referencia }}</strong>
            </div>
            <div class="payment-summary-item">
                <span>Total a Pagar:</span>
                <strong class="text-primary">${{ pago.monto|floatformat:2 }}</strong>
            </div>
        </div>

        <div class="alert alert-info mb-4">
            <i class="fas fa-info-circle"></i>
            Esta es una simulaci칩n de pasarela de pago. El pago se procesar치 autom치ticamente.
        </div>

        <div class="gateway-buttons">
            <button type="button" 
                    class="btn btn-success btn-lg" 
                    id="gatewayPayButton"
                    data-callback-url="{% url 'pagos:callback_pasarela' pago.id %}">
                <i class="fas fa-check-circle"></i> Pagar ${{ pago.monto|floatformat:2 }}
            </button>
            <button type="button" 
                    class="btn btn-outline-danger btn-lg" 
                    id="gatewayCancelButton"
                    data-callback-url="{% url 'pagos:callback_pasarela' pago.id %}">
                <i class="fas fa-times-circle"></i> Cancelar
            </button>
        </div>

        <div class="text-center mt-4">
            <small class="text-muted">
                <i class="fas fa-lock"></i> Conexi칩n segura SSL simulada
            </small>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/simulaciones.js' %}"></script>
{% endblock %}
