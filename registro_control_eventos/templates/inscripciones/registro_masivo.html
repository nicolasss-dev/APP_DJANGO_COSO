{% extends 'base.html' %}
{% load static %}

{% block title %}Carga Masiva de Inscripciones - PRCE{% endblock %}

{% block page_title %}
<h1>Carga Masiva de Inscripciones</h1>
<p style="color: #6c757d;">HU-10: Importar lista de asistentes desde Excel</p>
{% endblock %}

{% block content %}
<div class="card">
    <div class="card-header">
        <h2>Instrucciones</h2>
    </div>
    <div class="card-body">
        <ol style="line-height: 1.8;">
            <li>Descargue la plantilla de Excel con el formato correcto</li>
            <li>Complete los datos de los asistentes en la plantilla</li>
            <li>Asegúrese de que las columnas requeridas estén completas: <strong>nombre, apellido, documento, correo, teléfono</strong></li>
            <li>Cargue el archivo en el formulario</li>
            <li>Seleccione el evento al que desea inscribir los asistentes</li>
        </ol>
        
        <div style="margin-top: 1rem; padding: 1rem; background-color: #d1ecf1; border-left: 4px solid #0c5460;">
            <small style="color: #0c5460;">
                <strong>Formatos aceptados:</strong> .xlsx y .csv<br>
                <strong>Validaciones:</strong> Se verificará que no haya correos duplicados y que todos los campos requeridos estén completos.
            </small>
        </div>
    </div>
</div>

<div class="card">
    <div class="card-header">
        <h2>Cargar Archivo</h2>
    </div>
    <div class="card-body">
        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}
            
            <div class="form-group">
                <label for="id_evento" class="form-label">Evento *</label>
                <select name="evento" id="id_evento" class="form-control" required>
                    <option value="">-- Seleccione un evento --</option>
                    <!-- Los eventos se cargarán dinámicamente -->
                </select>
            </div>
            
            <div class="form-group">
                <label for="id_archivo" class="form-label">Archivo Excel/CSV *</label>
                <input 
                    type="file" 
                    name="archivo" 
                    id="id_archivo" 
                    class="form-control" 
                    accept=".xlsx,.xls,.csv" 
                    required
                >
                <small class="form-help">Formatos permitidos: .xlsx, .csv (máximo 5MB)</small>
            </div>
            
            <div style="display: flex; gap: 1rem; margin-top: 2rem;">
                <button type="submit" class="btn btn-primary">
                    Cargar Inscripciones
                </button>
                <a href="{% url 'dashboard:index' %}" class="btn btn-secondary">
                    Cancelar
                </a>
                <a href="#" class="btn btn-outline">
                    Descargar Plantilla
                </a>
            </div>
        </form>
    </div>
</div>

<div class="card">
    <div class="card-header">
        <h2>Funcionalidad en Desarrollo</h2>
    </div>
    <div class="card-body">
        <p style="color: #6c757d;">
            Esta funcionalidad está en desarrollo y será implementada en una próxima versión.
        </p>
        <p style="color: #6c757d;">
            Por el momento, puede registrar asistentes de forma individual a través del formulario de inscripción.
        </p>
    </div>
</div>
{% endblock %}

